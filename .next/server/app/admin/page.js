(()=>{var e={};e.id=3,e.ids=[3],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},15936:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(77015),s(68295),s(35866);var r=s(23191),n=s(88716),i=s(37922),a=s.n(i),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,77015)),"C:\\Users\\dell\\Desktop\\Next_Resort\\resort_booking\\src\\app\\admin\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,68295)),"C:\\Users\\dell\\Desktop\\Next_Resort\\resort_booking\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\dell\\Desktop\\Next_Resort\\resort_booking\\src\\app\\admin\\page.jsx"],u="/admin/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},24125:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},18173:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,79404,23)),Promise.resolve().then(s.bind(s,96908))},85927:()=>{},96908:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(10326),n=s(17577),i=s(94734),a=s.n(i);let o=()=>{let[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),h=async r=>{r.preventDefault(),console.log({title:e,price:s,offer:o,amen:d,desc:u,image:m});let n=new FormData;n.append("title",e),n.append("price",s),n.append("offer",o),n.append("desc",u),n.append("amen",d),n.append("image",m);try{let e=await fetch("https://next-resort-project.vercel.app/api/admin/add-product",{method:"POST",body:n});(await e.json()).success&&(alert("Record Added Successfully"),t(""),i(""),l(""),p(""),c(""),x(""))}catch(e){console.log(e)}};return(0,r.jsxs)("div",{className:a().container,children:[r.jsx("h1",{children:"Add Record"}),(0,r.jsxs)("form",{onSubmit:h,encType:"multipart/form-data",children:[(0,r.jsxs)("div",{className:a().fields,children:[(0,r.jsxs)("div",{className:"",children:[r.jsx("h3",{children:"Title"}),r.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{children:"Price"}),r.jsx("input",{type:"number",value:s,onChange:e=>i(e.target.value)})]})]}),(0,r.jsxs)("div",{className:a().fields,children:[(0,r.jsxs)("div",{className:"",children:[r.jsx("h3",{children:"Offer"}),r.jsx("input",{type:"number",value:o,onChange:e=>l(e.target.value)})]}),(0,r.jsxs)("div",{className:"",children:[r.jsx("h3",{children:"Amenities"}),r.jsx("input",{type:"text",value:d,onChange:e=>c(e.target.value)})]})]}),(0,r.jsxs)("div",{className:a().textField,children:[r.jsx("h3",{children:"Description"}),r.jsx("textarea",{type:"text",rows:"5",value:u,onChange:e=>p(e.target.value)})]}),(0,r.jsxs)("div",{className:a().textField,children:[r.jsx("h3",{children:"Upload Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:e=>x(e.target.files[0])})]}),r.jsx("div",{className:a().submit,children:r.jsx("button",{type:"submit",children:"Submit"})})]})]})}},94734:e=>{e.exports={formContainer:"components_formContainer__bFBnf",formSection:"components_formSection__ngI0H",input:"components_input__L6N5h",regBtn:"components_regBtn__77f_B",container:"components_container__Zpovh",fields:"components_fields__5iy02",textField:"components_textField__1PkQw",submit:"components_submit__dQJWw"}},57371:(e,t,s)=>{"use strict";s.d(t,{default:()=>n.a});var r=s(670),n=s.n(r)},670:(e,t,s)=>{"use strict";let{createProxy:r}=s(68570);e.exports=r("C:\\Users\\dell\\Desktop\\Next_Resort\\resort_booking\\node_modules\\next\\dist\\client\\link.js")},77015:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(19510);s(71159);var n=s(59364),i=s(58585),a=s(57371);let o=()=>r.jsx("div",{children:(0,r.jsxs)("div",{className:"navSection",children:[r.jsx("div",{className:"title",children:r.jsx("h2",{children:"Holiday Resort"})}),r.jsx("p",{children:"Welcome: Admin "}),r.jsx(a.default,{href:"/api/auth/signout",className:"link",children:r.jsx("div",{className:"logout",children:"Logout"})})]})});var l=s(68570);let d=(0,l.createProxy)(String.raw`C:\Users\dell\Desktop\Next_Resort\resort_booking\src\app\components\AddProduct.jsx`),{__esModule:c,$$typeof:u}=d;d.default;let p=(0,l.createProxy)(String.raw`C:\Users\dell\Desktop\Next_Resort\resort_booking\src\app\components\AddProduct.jsx#default`),m=async()=>{let e=await (0,n.I8)();return e||(0,i.redirect)("/login"),r.jsx("div",{children:"admin"===e.role?(0,r.jsxs)(r.Fragment,{children:[r.jsx(o,{}),r.jsx(p,{})]}):(0,r.jsxs)("div",{align:"center",children:[r.jsx("h1",{children:"Not Authorized"}),r.jsx(a.default,{href:"/login",children:" Login"})]})})}},59364:(e,t,s)=>{"use strict";s.d(t,{HT:()=>d,I8:()=>a,a4:()=>c});var r=s(152),n=s(80772),i=s(30728);let{auth:a,signIn:o,signOut:l,handlers:{GET:d,POST:c}}=(0,r.ZP)({providers:[(0,n.Z)({name:"credentials",async authorize(e){let t=await i.Z.findOne({email:e?.email});return t&&e?.password===t.password?{name:t.username,email:t.email,role:t.role}:null}})],secret:process.env.SECRET_KEY,callbacks:{jwt:async({token:e,user:t})=>(t&&(e.userId=t.id,e.username=t.name,e.role=t.role,e.email=t.email),e),session:async({session:e,token:t})=>(e.userId=t.userId,e.username=t.username,e.role=t.role,e.email=t.email,e)}})},68295:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>a});var r=s(19510),n=s(1723),i=s.n(n);s(33241);let a={title:"Create Next App",description:"Generated by create next app"};function o({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:e})})}},30728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let{default:r,mongo:n}=s(11185),i=new r.Schema({username:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},role:{type:String,default:"user"},bookings:[{type:r.Schema.Types.ObjectId,ref:"booking"}]}),a=r.models.user||r.model("user",i)},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(66621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},33241:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,70,462,838,431],()=>s(15936));module.exports=r})();