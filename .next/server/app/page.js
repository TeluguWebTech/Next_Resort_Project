(()=>{var e={};e.id=931,e.ids=[931],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},76365:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(98833),s(68295),s(35866);var r=s(23191),n=s(88716),a=s(37922),i=s.n(a),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,98833)),"C:\\Users\\dell\\Desktop\\Next_Resort\\resort_booking\\src\\app\\page.js"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,68295)),"C:\\Users\\dell\\Desktop\\Next_Resort\\resort_booking\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\dell\\Desktop\\Next_Resort\\resort_booking\\src\\app\\page.js"],u="/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},24125:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},49266:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,79404,23)),Promise.resolve().then(s.bind(s,96908)),Promise.resolve().then(s.bind(s,47543))},77358:()=>{},90434:(e,t,s)=>{"use strict";s.d(t,{default:()=>n.a});var r=s(79404),n=s.n(r)},96908:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(10326),n=s(17577),a=s(94734),i=s.n(a);let l=()=>{let[e,t]=(0,n.useState)(""),[s,a]=(0,n.useState)(""),[l,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),h=async r=>{r.preventDefault(),console.log({title:e,price:s,offer:l,amen:c,desc:u,image:m});let n=new FormData;n.append("title",e),n.append("price",s),n.append("offer",l),n.append("desc",u),n.append("amen",c),n.append("image",m);try{let e=await fetch("https://next-resort-project.vercel.app/api/admin/add-product",{method:"POST",body:n});(await e.json()).success&&(alert("Record Added Successfully"),t(""),a(""),o(""),p(""),d(""),x(""))}catch(e){console.log(e)}};return(0,r.jsxs)("div",{className:i().container,children:[r.jsx("h1",{children:"Add Record"}),(0,r.jsxs)("form",{onSubmit:h,encType:"multipart/form-data",children:[(0,r.jsxs)("div",{className:i().fields,children:[(0,r.jsxs)("div",{className:"",children:[r.jsx("h3",{children:"Title"}),r.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{children:"Price"}),r.jsx("input",{type:"number",value:s,onChange:e=>a(e.target.value)})]})]}),(0,r.jsxs)("div",{className:i().fields,children:[(0,r.jsxs)("div",{className:"",children:[r.jsx("h3",{children:"Offer"}),r.jsx("input",{type:"number",value:l,onChange:e=>o(e.target.value)})]}),(0,r.jsxs)("div",{className:"",children:[r.jsx("h3",{children:"Amenities"}),r.jsx("input",{type:"text",value:c,onChange:e=>d(e.target.value)})]})]}),(0,r.jsxs)("div",{className:i().textField,children:[r.jsx("h3",{children:"Description"}),r.jsx("textarea",{type:"text",rows:"5",value:u,onChange:e=>p(e.target.value)})]}),(0,r.jsxs)("div",{className:i().textField,children:[r.jsx("h3",{children:"Upload Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:e=>x(e.target.files[0])})]}),r.jsx("div",{className:i().submit,children:r.jsx("button",{type:"submit",children:"Submit"})})]})]})}},47543:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(10326),n=s(90434),a=s(17577);let i=()=>{let[e,t]=(0,a.useState)(""),s=async()=>{let e=await fetch("https://next-resort-project.vercel.app/api/admin/add-product"),s=await e.json();console.log("productData:",s),t(s.data)};return(0,a.useEffect)(()=>{s()},[]),(0,r.jsxs)("div",{className:"productSection",children:[r.jsx("h1",{align:"center",children:"Select your Stay"}),e?e.map(e=>(0,r.jsxs)("div",{className:"proDetail",children:[(0,r.jsxs)("div",{className:"left",children:[r.jsx("div",{className:"title",children:e.title}),r.jsx("br",{}),r.jsx("img",{src:e.image,alt:e.title,className:"roomImage"})]}),(0,r.jsxs)("div",{className:"center",children:[(0,r.jsxs)("div",{className:"pamen",children:[(0,r.jsxs)("h2",{className:"price",children:["Rs. ",e.price]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{children:"Amenities"}),e.amen.map((e,t)=>r.jsx("div",{className:"amenities",children:(0,r.jsxs)("div",{children:["*",e]})},t))]})]}),r.jsx("div",{className:"right",children:r.jsx(n.default,{href:`/detail/${e._id}`,children:r.jsx("button",{className:"detail",children:"Details  "})})})]})]},e._id)):r.jsx("h1",{style:{textAlign:"center",color:"green",marginTop:"200px"},children:"Loading..."})]})}},94734:e=>{e.exports={formContainer:"components_formContainer__bFBnf",formSection:"components_formSection__ngI0H",input:"components_input__L6N5h",regBtn:"components_regBtn__77f_B",container:"components_container__Zpovh",fields:"components_fields__5iy02",textField:"components_textField__1PkQw",submit:"components_submit__dQJWw"}},57371:(e,t,s)=>{"use strict";s.d(t,{default:()=>n.a});var r=s(670),n=s.n(r)},670:(e,t,s)=>{"use strict";let{createProxy:r}=s(68570);e.exports=r("C:\\Users\\dell\\Desktop\\Next_Resort\\resort_booking\\node_modules\\next\\dist\\client\\link.js")},77015:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(19510);s(71159);var n=s(59364),a=s(58585),i=s(57371);let l=()=>r.jsx("div",{children:(0,r.jsxs)("div",{className:"navSection",children:[r.jsx("div",{className:"title",children:r.jsx("h2",{children:"Holiday Resort"})}),r.jsx("p",{children:"Welcome: Admin "}),r.jsx(i.default,{href:"/api/auth/signout",className:"link",children:r.jsx("div",{className:"logout",children:"Logout"})})]})});var o=s(68570);let c=(0,o.createProxy)(String.raw`C:\Users\dell\Desktop\Next_Resort\resort_booking\src\app\components\AddProduct.jsx`),{__esModule:d,$$typeof:u}=c;c.default;let p=(0,o.createProxy)(String.raw`C:\Users\dell\Desktop\Next_Resort\resort_booking\src\app\components\AddProduct.jsx#default`),m=async()=>{let e=await (0,n.I8)();return e||(0,a.redirect)("/login"),r.jsx("div",{children:"admin"===e.role?(0,r.jsxs)(r.Fragment,{children:[r.jsx(l,{}),r.jsx(p,{})]}):(0,r.jsxs)("div",{align:"center",children:[r.jsx("h1",{children:"Not Authorized"}),r.jsx(i.default,{href:"/login",children:" Login"})]})})}},59364:(e,t,s)=>{"use strict";s.d(t,{HT:()=>c,I8:()=>i,a4:()=>d});var r=s(152),n=s(80772),a=s(30728);let{auth:i,signIn:l,signOut:o,handlers:{GET:c,POST:d}}=(0,r.ZP)({providers:[(0,n.Z)({name:"credentials",async authorize(e){let t=await a.Z.findOne({email:e?.email});return t&&e?.password===t.password?{name:t.username,email:t.email,role:t.role}:null}})],secret:process.env.SECRET_KEY,callbacks:{jwt:async({token:e,user:t})=>(t&&(e.userId=t.id,e.username=t.name,e.role=t.role,e.email=t.email),e),session:async({session:e,token:t})=>(e.userId=t.userId,e.username=t.username,e.role=t.role,e.email=t.email,e)}})},6037:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(19510),n=s(57371);s(71159);let a=({userName:e})=>(0,r.jsxs)("div",{className:"navSection",children:[r.jsx("div",{className:"title",children:r.jsx(n.default,{href:"/",className:"link",children:r.jsx("h2",{children:"Holiday Resort"})})}),r.jsx("div",{className:"contact",children:"Call now : 123 456 789"}),r.jsx(n.default,{href:"/invoice",className:"link",children:r.jsx("div",{className:"bookings",children:"Bookings:"})}),(0,r.jsxs)("p",{children:["Welcome:",r.jsx("span",{style:{color:"yellow",marginLeft:"5px",fontSize:"1.2rem",border:"none"},children:e})]}),r.jsx(n.default,{href:"/api/auth/signout",className:"link",children:r.jsx("div",{className:"logout",children:"Logout"})})]})},68295:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var r=s(19510),n=s(1723),a=s.n(n);s(5023);let i={title:"Create Next App",description:"Generated by create next app"};function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:a().className,children:e})})}},98833:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(19510);s(71159);var n=s(87568),a=s(59364),i=s(58585),l=s(6037),o=s(77015),c=s(68570);let d=(0,c.createProxy)(String.raw`C:\Users\dell\Desktop\Next_Resort\resort_booking\src\app\components\ProductCollection.jsx`),{__esModule:u,$$typeof:p}=d;d.default;let m=(0,c.createProxy)(String.raw`C:\Users\dell\Desktop\Next_Resort\resort_booking\src\app\components\ProductCollection.jsx#default`),x=async()=>{let e=await (0,a.I8)();await (0,n.Z)(),e||(0,i.redirect)("/login"),console.log("role check;:",e.role),console.log("username chekc:",e.username);let t=e.username;return(0,r.jsxs)("div",{children:["user"===e.role&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Z,{userName:t}),r.jsx("img",{src:"banner.jpg",alt:"banner",className:"bannerImage"}),r.jsx(m,{})]}),"admin"===e.role&&r.jsx(o.default,{})]})}},87568:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let{default:r}=s(11185),n=async()=>{try{await r.connect(process.env.MONGO_URI),console.log("Database connected")}catch(e){console.log(e)}}},30728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let{default:r,mongo:n}=s(11185),a=new r.Schema({username:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},role:{type:String,default:"user"},bookings:[{type:r.Schema.Types.ObjectId,ref:"booking"}]}),i=r.models.user||r.model("user",a)},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(66621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,70,462,838,431],()=>s(76365));module.exports=r})();